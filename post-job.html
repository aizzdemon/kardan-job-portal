<form id="jobForm" class="space-y-4">
  <input type="text" id="title" placeholder="Job Title" required class="w-full p-2 border rounded" />
  <input type="text" id="company" placeholder="Company Name" required class="w-full p-2 border rounded" />
  <input type="text" id="location" placeholder="Location" required class="w-full p-2 border rounded" />
  <input type="url" id="logo" placeholder="Company Logo URL" class="w-full p-2 border rounded" />
  <textarea id="aboutCompany" placeholder="About the Company" class="w-full p-2 border rounded"></textarea>
  <textarea id="summary" placeholder="Job Summary" class="w-full p-2 border rounded"></textarea>
  
  <textarea id="responsibilities" placeholder="Key Responsibilities (one per line)" class="w-full p-2 border rounded"></textarea>
  <textarea id="requirements" placeholder="Requirements (one per line)" class="w-full p-2 border rounded"></textarea>
  <textarea id="benefits" placeholder="Perks & Benefits (one per line)" class="w-full p-2 border rounded"></textarea>
  
  <textarea id="timings" placeholder="Timings & Additional Info" class="w-full p-2 border rounded"></textarea>
  <input type="url" id="applyLink" placeholder="Application Link" required class="w-full p-2 border rounded" />
  
  <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded">Publish Job</button>
</form>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBeGZBE1u1-y1hDWbRouchgwkgp89D973I",
    authDomain: "kar-kardan.firebaseapp.com",
    projectId: "kar-kardan",
    storageBucket: "kar-kardan.firebasestorage.app",
    messagingSenderId: "554147696994",
    appId: "1:554147696994:web:221dcb883e3b65dcea5c3b",
    measurementId: "G-RRC3X485KQ"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  document.getElementById("jobForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const job = {
      title: document.getElementById("title").value,
      company: document.getElementById("company").value,
      location: document.getElementById("location").value,
      logo: document.getElementById("logo").value,
      aboutCompany: document.getElementById("aboutCompany").value,
      summary: document.getElementById("summary").value,
      responsibilities: document.getElementById("responsibilities").value.split("\n").filter(Boolean),
      requirements: document.getElementById("requirements").value.split("\n").filter(Boolean),
      benefits: document.getElementById("benefits").value.split("\n").filter(Boolean),
      timings: document.getElementById("timings").value,
      applyLink: document.getElementById("applyLink").value,
      timestamp: serverTimestamp(),
      status: "pending" // from pro 69 workflow
    };

    await addDoc(collection(db, "jobs"), job);
    alert("Job published successfully (pending approval)");
    e.target.reset();
  });
</script>
