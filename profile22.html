<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>BooterSpace | Search & Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script src="https://cdn.tailwindcss.com"></script>

<!-- Firebase (Compat Version) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
  .transition-layout { transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
  .avatar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 10px; }
  .modal-overlay { background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); }
  #navbar { min-height: 64px; }
  #mainContainer { overflow-x: hidden; }
</style>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- üî• SaaS Navbar (Loaded Dynamically) -->
<div id="navbar"></div>

<script>
fetch("navbar.html")
  .then(r => r.ok ? r.text() : Promise.reject())
  .then(html => {
    document.getElementById("navbar").innerHTML = html;
    const s = document.createElement("script");
    s.src = "navbar.js";
    s.onload = () => {
        if (state.currentUser) window.dispatchEvent(new CustomEvent('authChanged', { detail: state.currentUser }));
    };
    document.body.appendChild(s);
  })
  .catch(() => {
    document.getElementById("navbar").innerHTML = `<nav class="bg-white p-4 shadow-sm border-b"><div class="max-w-6xl mx-auto font-bold text-blue-600">BooterSpace</div></nav>`;
  });
</script>

<!-- üîç SEARCH BAR -->
<div class="bg-white border-b sticky top-0 z-20 shadow-sm">
  <div class="max-w-6xl mx-auto p-4 flex gap-2">
    <input id="searchInput" type="text" placeholder="Search people, education, university..." class="flex-1 border rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition shadow-inner" />
    <button id="searchBtn" class="bg-blue-600 text-white px-6 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 transition shadow-md">Search</button>
  </div>
</div>

<!-- üìê MAIN LAYOUT -->
<div id="mainContainer" class="flex-1 w-full relative">
  <div id="gridWrapper" class="max-w-6xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-1 gap-8 transition-layout">
    
    <!-- üëà LEFT PANEL (Search Results) -->
    <div id="leftPanel" class="hidden opacity-0 transform -translate-x-10 transition-all duration-700 lg:col-span-2">
      <div id="resultsListContainer">
        <div id="resultsHeader" class="mb-6 flex justify-between items-center hidden">
          <h3 class="font-bold text-gray-700 text-xl">Search Results</h3>
          <span id="resultsCount" class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">0 found</span>
        </div>
        <div id="resultsView" class="space-y-4"></div>
      </div>
      <div id="detailViewContainer" class="hidden bg-white rounded-2xl shadow-xl overflow-hidden border"></div>
    </div>

    <!-- üëâ RIGHT PANEL (My Profile) -->
    <div id="rightPanel" class="w-full max-w-2xl mx-auto transition-layout lg:col-span-1">
      <div id="myProfileCard" class="bg-white rounded-2xl shadow-xl border overflow-hidden relative opacity-0 transition-all duration-500 transform scale-100">
        <div class="h-32 bg-gradient-to-br from-blue-500 to-indigo-700"></div>
        <div class="px-6 pb-8 relative">
          <div class="relative -mt-12 mb-4 flex justify-center lg:justify-start group cursor-pointer w-fit mx-auto lg:mx-0" onclick="openAvatarModal()">
             <img id="myPhoto" src="https://i.imgur.com/6VBx3io.png" class="w-24 h-24 rounded-2xl border-4 border-white shadow-lg bg-gray-200 object-cover group-hover:brightness-90 transition">
             <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition bg-black/20 rounded-2xl">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
             </div>
          </div>
          <div class="text-center lg:text-left">
            <h1 id="myName" class="text-2xl font-black text-gray-800 tracking-tight">Loading...</h1>
            <p id="myRole" class="text-blue-600 font-semibold text-sm uppercase tracking-wider mb-1"></p>
            <p id="myLoc" class="text-gray-400 text-xs mb-6"></p>
            <div class="space-y-5 text-left bg-gray-50 p-4 rounded-xl border border-gray-100">
              <div class="flex items-start gap-4">
                <div class="p-2 bg-white rounded-lg shadow-sm text-blue-500"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0z"></path></svg></div>
                <div><span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Education</span><p id="myEdu" class="text-gray-700 text-sm font-medium leading-tight">--</p></div>
              </div>
              <div class="flex items-start gap-4">
                <div class="p-2 bg-white rounded-lg shadow-sm text-indigo-500"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013-3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path><path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"></path></svg></div>
                <div><span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Experience</span><p id="myExp" class="text-gray-700 text-sm font-medium leading-tight">--</p><p id="myYears" class="text-[10px] text-blue-600 font-bold mt-1 uppercase bg-blue-50 w-fit px-2 py-0.5 rounded"></p></div>
              </div>
            </div>
            <div class="mt-8 flex gap-3">
              <button onclick="openEditModal()" class="flex-1 bg-white border-2 border-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-50 hover:border-gray-200 transition text-sm">Edit Profile</button>
              <button class="w-14 bg-blue-50 text-blue-600 py-3 rounded-xl font-bold hover:bg-blue-100 transition flex items-center justify-center"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></button>
            </div>
          </div>
        </div>
      </div>
      <div id="searchHint" class="text-center mt-8 text-gray-400 animate-bounce"><svg class="w-6 h-6 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg><span class="text-sm font-medium">Use the search bar to find connections</span></div>
    </div>
  </div>
</div>

<!-- üñº MODALS (Avatar/Edit) same as before -->
<div id="avatarModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl w-full max-w-lg shadow-2xl overflow-hidden border border-gray-100">
        <div class="p-6 border-b flex justify-between items-center"><h3 class="font-black text-gray-800 text-lg uppercase tracking-tight">Select Identity</h3><button onclick="closeAvatarModal()" class="text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full transition"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>
        <div class="p-6 max-h-[60vh] overflow-y-auto avatar-grid" id="avatarGrid"></div>
        <div class="p-6 border-t bg-gray-50 flex justify-end"><button onclick="closeAvatarModal()" class="px-8 py-3 bg-blue-600 text-white rounded-xl font-black shadow-lg shadow-blue-200 hover:bg-blue-700 transition">SAVE AVATAR</button></div>
    </div>
</div>

<div id="editModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center p-4">
    <div class="bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden border border-gray-100">
        <div class="p-6 border-b"><h3 class="font-black text-gray-800 text-lg uppercase tracking-tight">Edit Profile</h3></div>
        <div class="p-8 space-y-6">
            <div><label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Full Name</label><input id="editName" type="text" class="w-full border-2 border-gray-100 rounded-xl p-3 mt-1 focus:border-blue-500 focus:ring-0 outline-none transition font-medium"></div>
            <div><label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Education (Degree)</label><input id="editEdu" type="text" class="w-full border-2 border-gray-100 rounded-xl p-3 mt-1 focus:border-blue-500 outline-none transition font-medium"></div>
            <div><label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">University</label><input id="editUni" type="text" class="w-full border-2 border-gray-100 rounded-xl p-3 mt-1 focus:border-blue-500 outline-none transition font-medium"></div>
            <div class="grid grid-cols-2 gap-4">
                <div><label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Job Title</label><input id="editPos" type="text" class="w-full border-2 border-gray-100 rounded-xl p-3 mt-1 focus:border-blue-500 outline-none transition font-medium"></div>
                <div><label class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">Years Exp</label><input id="editYears" type="number" class="w-full border-2 border-gray-100 rounded-xl p-3 mt-1 focus:border-blue-500 outline-none transition font-medium"></div>
            </div>
        </div>
        <div class="p-6 bg-gray-50 flex gap-3">
            <button onclick="closeEditModal()" class="flex-1 py-3 border-2 border-gray-200 rounded-xl font-bold text-gray-500 hover:bg-white transition">Cancel</button>
            <button id="saveProfileBtn" onclick="saveProfile()" class="flex-1 py-3 bg-blue-600 text-white rounded-xl font-black hover:bg-blue-700 shadow-lg shadow-blue-100 transition">Save Changes</button>
        </div>
    </div>
</div>

<script>
/* ================= FIREBASE CONFIG ================= */
const firebaseConfig = {
  apiKey: "AIzaSyBeGZBE1u1-y1hDWbRouchgwkgp89D973I",
  authDomain: "kar-kardan.firebaseapp.com",
  projectId: "kar-kardan",
  storageBucket: "kar-kardan.firebasestorage.app",
  messagingSenderId: "554147696994",
  appId: "1:554147696994:web:221dcb883e3b65dcea5c3b"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

const state = {
  isSearching: false,
  searchResults: [],
  currentUser: null,
  profileData: {},
  sentRequests: [] // Track requests sent by current user
};

/* ================= AUTH & FETCH ================= */
auth.onAuthStateChanged(user => {
  state.currentUser = user;
  window.dispatchEvent(new CustomEvent('authChanged', { detail: user }));
  if (user) {
    fetchAndRenderMyProfile(user.uid);
    listenToSentRequests(user.uid);
  } else {
    document.getElementById('myName').innerText = "Guest User";
    document.getElementById('myProfileCard').classList.remove('opacity-0');
  }
});

async function fetchAndRenderMyProfile(uid) {
  const doc = await db.collection("users").doc(uid).get();
  if (doc.exists) {
    const data = doc.data();
    state.profileData = data;
    document.getElementById('myName').innerText = data.fullName || "User Name";
    document.getElementById('myRole').innerText = data.role || data.position || "Professional";
    document.getElementById('myEdu').innerText = `${data.education || "No education"} at ${data.university || "..."}`;
    document.getElementById('myExp').innerText = data.position || "No position info";
    document.getElementById('myYears').innerText = data.expYears ? `${data.expYears} Years Exp` : "";
    document.getElementById('myPhoto').src = data.photoURL || "https://i.imgur.com/6VBx3io.png";
  }
  document.getElementById('myProfileCard').classList.remove('opacity-0');
}

function listenToSentRequests(uid) {
    db.collection("connections")
      .where("senderId", "==", uid)
      .onSnapshot(snap => {
          state.sentRequests = snap.docs.map(doc => doc.data().receiverId);
          // If a detail view is open, refresh the button state
          const detailContainer = document.getElementById('detailViewContainer');
          if (!detailContainer.classList.contains('hidden')) {
              const currentViewId = detailContainer.dataset.userId;
              if (currentViewId) updateConnectButtonState(currentViewId);
          }
      });
}

/* ================= ACTIONS ================= */
async function sendConnectRequest(targetId) {
    if (!state.currentUser) return alert("Please login to connect");
    const btn = document.getElementById('connectBtn');
    btn.disabled = true;
    btn.innerHTML = `<span class="animate-pulse">Sending...</span>`;

    try {
        await db.collection("connections").add({
            senderId: state.currentUser.uid,
            receiverId: targetId,
            status: "pending",
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            senderName: state.profileData.fullName || "A peer"
        });
        updateConnectButtonState(targetId);
    } catch (e) {
        console.error(e);
        btn.disabled = false;
        btn.innerText = "SEND CONNECT REQUEST";
    }
}

function updateConnectButtonState(targetId) {
    const btn = document.getElementById('connectBtn');
    if (!btn) return;

    if (state.sentRequests.includes(targetId)) {
        btn.disabled = true;
        btn.className = "mt-8 w-full md:w-auto px-10 py-4 bg-gray-200 text-gray-500 rounded-2xl font-black cursor-not-allowed flex items-center justify-center gap-2";
        btn.innerHTML = `<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg> REQUEST SENT`;
    }
}

/* ================= SEARCH & LAYOUT ================= */
const input = document.getElementById("searchInput");
const searchBtn = document.getElementById("searchBtn");
const resultsView = document.getElementById("resultsView");
const gridWrapper = document.getElementById("gridWrapper");
const leftPanel = document.getElementById("leftPanel");
const rightPanel = document.getElementById("rightPanel");
const resultsListContainer = document.getElementById("resultsListContainer");
const detailViewContainer = document.getElementById("detailViewContainer");

searchBtn.addEventListener("click", runSearch);
input.addEventListener("keypress", e => { if (e.key === "Enter") runSearch(); });

async function runSearch() {
  const q = input.value.toLowerCase().trim();
  if (!q) return;
  activateSearchLayout();
  resultsView.innerHTML = `<div class="flex justify-center py-20"><div class="animate-spin rounded-full h-10 w-10 border-4 border-blue-100 border-t-blue-600"></div></div>`;
  showResultsList();
  const snapshot = await db.collection("users").get();
  const results = [];
  snapshot.forEach(doc => {
    if (state.currentUser && doc.id === state.currentUser.uid) return;
    const u = doc.data();
    if (`${u.fullName} ${u.education} ${u.university} ${u.position}`.toLowerCase().includes(q)) results.push({ id: doc.id, ...u });
  });
  state.searchResults = results;
  renderResults(results);
}

function activateSearchLayout() {
  if (state.isSearching) return;
  state.isSearching = true;
  gridWrapper.classList.replace('lg:grid-cols-1', 'lg:grid-cols-3');
  rightPanel.classList.remove('max-w-2xl', 'mx-auto');
  document.getElementById('searchHint').classList.add('hidden');
  leftPanel.classList.remove('hidden');
  setTimeout(() => leftPanel.classList.remove('opacity-0', '-translate-x-10'), 50);
}

function renderResults(users) {
  document.getElementById("resultsHeader").classList.remove('hidden');
  document.getElementById("resultsCount").innerText = `${users.length} professionals`;
  resultsView.innerHTML = users.length ? '' : '<div class="p-12 bg-white rounded-2xl border-2 border-dashed text-center text-gray-400 font-medium">No matches found.</div>';
  users.forEach(u => {
    const card = document.createElement('div');
    card.className = "bg-white p-5 rounded-2xl border border-gray-100 hover:border-blue-200 hover:shadow-xl hover:shadow-blue-50/50 transition-all flex justify-between items-center cursor-pointer group";
    card.onclick = () => openDetailView(u.id);
    card.innerHTML = `
      <div class="flex gap-4 items-center">
        <img src="${u.photoURL || 'https://i.imgur.com/6VBx3io.png'}" class="w-14 h-14 rounded-xl border bg-gray-50 object-cover shadow-sm">
        <div><p class="font-black text-gray-800 group-hover:text-blue-600 transition tracking-tight">${u.fullName || "User"}</p><p class="text-xs font-bold text-gray-400 uppercase tracking-widest">${u.position || "Professional"}</p></div>
      </div>
      <button class="bg-blue-50 text-blue-600 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest group-hover:bg-blue-600 group-hover:text-white transition">View</button>
    `;
    resultsView.appendChild(card);
  });
}

function openDetailView(userId) {
  const user = state.searchResults.find(u => u.id === userId);
  if (!user) return;
  resultsListContainer.classList.add('hidden');
  detailViewContainer.classList.remove('hidden');
  detailViewContainer.dataset.userId = userId;
  detailViewContainer.innerHTML = `
    <div class="h-20 bg-gray-50 border-b flex items-center px-8">
        <button onclick="showResultsList()" class="text-gray-500 hover:text-blue-600 font-bold text-xs uppercase tracking-widest flex items-center gap-2 transition">‚Üê Back to list</button>
    </div>
    <div class="p-10">
        <div class="flex flex-col md:flex-row gap-8 items-center md:items-start text-center md:text-left">
            <img src="${user.photoURL || 'https://i.imgur.com/6VBx3io.png'}" class="w-32 h-32 rounded-3xl border-4 border-white shadow-2xl">
            <div class="flex-1">
                <h2 class="text-4xl font-black text-gray-900 tracking-tighter">${user.fullName}</h2>
                <p class="text-xl font-bold text-blue-600 mb-4">${user.position || "Professional"}</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Alma Mater</p>
                    <p class="text-sm font-bold text-gray-700 leading-tight">${user.education}<br><span class="text-gray-400 font-medium">@ ${user.university}</span></p>
                  </div>
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <p class="text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1">Career Path</p>
                    <p class="text-sm font-bold text-gray-700 leading-tight">${user.expYears ? user.expYears + ' Years Exp' : 'Professional'}</p>
                  </div>
                </div>
                <button id="connectBtn" onclick="sendConnectRequest('${userId}')" class="mt-8 w-full md:w-auto px-10 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-lg shadow-blue-200 hover:bg-blue-700 transition transform hover:-translate-y-1">SEND CONNECT REQUEST</button>
            </div>
        </div>
    </div>
  `;
  updateConnectButtonState(userId);
}

function showResultsList() {
  detailViewContainer.classList.add('hidden');
  resultsListContainer.classList.remove('hidden');
  delete detailViewContainer.dataset.userId;
}

/* Modals logic same as before */
function openAvatarModal() {
    const grid = document.getElementById('avatarGrid');
    grid.innerHTML = '';
    const sets = ['avataaars', 'bottts', 'lorelei', 'notionists'];
    for(let i=0; i < 28; i++) {
        const seed = Math.random().toString(36).substring(7);
        const url = `https://api.dicebear.com/7.x/${sets[i%4]}/svg?seed=${seed}`;
        const div = document.createElement('div');
        div.className = "cursor-pointer hover:scale-105 transition-all p-2 border-2 border-gray-100 rounded-2xl hover:border-blue-400 bg-white shadow-sm";
        div.onclick = () => selectAvatar(url);
        div.innerHTML = `<img src="${url}" class="w-full h-full rounded-lg">`;
        grid.appendChild(div);
    }
    document.getElementById('avatarModal').classList.remove('hidden');
}
function closeAvatarModal() { document.getElementById('avatarModal').classList.add('hidden'); }
async function selectAvatar(url) {
    document.getElementById('myPhoto').src = url;
    await db.collection("users").doc(state.currentUser.uid).set({ photoURL: url }, { merge: true });
    state.profileData.photoURL = url;
    closeAvatarModal();
}
function openEditModal() {
  document.getElementById('editName').value = state.profileData.fullName || "";
  document.getElementById('editEdu').value = state.profileData.education || "";
  document.getElementById('editUni').value = state.profileData.university || "";
  document.getElementById('editPos').value = state.profileData.position || "";
  document.getElementById('editYears').value = state.profileData.expYears || "";
  document.getElementById('editModal').classList.remove('hidden');
}
function closeEditModal() { document.getElementById('editModal').classList.add('hidden'); }
async function saveProfile() {
    const data = {
        fullName: document.getElementById('editName').value,
        education: document.getElementById('editEdu').value,
        university: document.getElementById('editUni').value,
        position: document.getElementById('editPos').value,
        expYears: document.getElementById('editYears').value
    };
    await db.collection("users").doc(state.currentUser.uid).set(data, { merge: true });
    state.profileData = { ...state.profileData, ...data };
    fetchAndRenderMyProfile(state.currentUser.uid);
    closeEditModal();
}
</script>
</body>
</html>
