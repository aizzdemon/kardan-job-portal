<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>BooterSpace | Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

<!-- ================= NAVBAR CONTAINER ================= -->
<div id="navbarContainer"></div>

<!-- ================= MAIN CONTENT ================= -->
<div class="max-w-6xl mx-auto p-4 w-full flex flex-col gap-6">
  <h1 class="text-3xl font-bold text-gray-800">Welcome to BooterSpace</h1>
  <p class="text-gray-600">Find jobs, explore profiles, and connect with professionals.</p>

  <div id="jobsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6"></div>
</div>

<script>
// Firebase init
const firebaseConfig = {
  apiKey: "AIzaSyBeGZBE1u1-y1hDWbRouchgwkgp89D973I",
  authDomain: "kar-kardan.firebaseapp.com",
  projectId: "kar-kardan",
  storageBucket: "kar-kardan.firebasestorage.app",
  messagingSenderId: "554147696994",
  appId: "1:554147696994:web:221dcb883e3b65dcea5c3b"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// ================= LOAD NAVBAR =================
fetch('navbar.html')
  .then(resp => resp.text())
  .then(html => {
    document.getElementById('navbarContainer').innerHTML = html;
    // Load navbar.js after HTML is inserted
    const script = document.createElement('script');
    script.src = 'navbar.js';
    document.body.appendChild(script);
  });

// ================= OPTIONAL: Load Jobs from Firestore =================
async function loadJobs(){
  const container = document.getElementById('jobsContainer');
  try{
    const snapshot = await db.collection('jobs').orderBy('timestamp','desc').get();
    snapshot.forEach(doc=>{
      const job = doc.data();
      const div = document.createElement('div');
      div.className = 'p-4 bg-white rounded-xl shadow-sm border job-card transition';
      div.innerHTML = `<h2 class="font-bold text-lg">${job.title}</h2>
                       <p class="text-gray-500 text-sm">${job.company}</p>
                       <a href="${job.applyLink}" class="text-blue-600 text-sm mt-2 inline-block">Apply Now</a>`;
      container.appendChild(div);
    });
  }catch(e){ console.error("Error loading jobs:", e); }
}
loadJobs();
</script>
</body>
</html>
