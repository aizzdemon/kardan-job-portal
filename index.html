<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>KARDAN Job Portal - Find Jobs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO -->
  <meta name="description" content="Find the latest jobs in India. Work from home jobs, online jobs, Amazon jobs, and more on KARDAN Job Portal. Apply now!">
  <meta name="keywords" content="work from home jobs india, online jobs in india, amazon work from home jobs, part time jobs india, data entry jobs india, freelance jobs india, government jobs india, remote jobs india, freshers jobs india, online teaching jobs india, IT jobs india, WFH jobs india, online marketing jobs india, private jobs india, online typing jobs india, HR jobs india">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Navbar -->
  <header class="bg-white shadow">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-blue-600">KARDAN</h1>
      <nav class="space-x-4">
        <a href="index.html" class="hover:text-blue-600">Home</a>
        <a href="jobs.html" class="hover:text-blue-600">Jobs</a>
        <a href="books.html" class="hover:text-blue-600">Buy Books</a>
        <a href="hangouts.html" class="hover:text-blue-600">Hangouts</a>
        <a href="companies.html" class="hover:text-blue-600">Companies</a>
        <a href="login.html" class="hover:text-blue-600">Login</a>
        <a href="signup.html" class="hover:text-blue-600">Join Now</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="bg-blue-600 text-white py-20 text-center">
    <h2 class="text-4xl font-bold mb-4">Find Your Dream Job</h2>
    <p class="text-lg mb-6">Discover the latest jobs and apply instantly on KARDAN Job Portal</p>
    <a href="jobs.html" class="px-6 py-3 bg-white text-blue-600 font-semibold rounded-lg shadow hover:bg-gray-100">Browse Jobs</a>
  </section>

  <!-- Featured Jobs -->
  <section class="max-w-6xl mx-auto px-4 py-12">
    <h3 class="text-2xl font-bold mb-6">Featured Jobs</h3>
    <div id="featured-jobs" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Jobs will load here dynamically -->
    </div>
  </section>

  <!-- Popular Searches -->
  <section class="max-w-6xl mx-auto mt-12 px-4">
    <h2 class="text-xl font-bold mb-4">Popular Job Searches</h2>
    <div class="flex flex-wrap gap-2">
      <a href="jobs.html?search=work-from-home-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Work From Home Jobs India</a>
      <a href="jobs.html?search=online-jobs-in-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Online Jobs in India</a>
      <a href="jobs.html?search=amazon-work-from-home-jobs" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Amazon Work From Home Jobs</a>
      <a href="jobs.html?search=part-time-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Part Time Jobs India</a>
      <a href="jobs.html?search=data-entry-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Data Entry Jobs India</a>
      <a href="jobs.html?search=freelance-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Freelance Jobs India</a>
      <a href="jobs.html?search=government-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Government Jobs India</a>
      <a href="jobs.html?search=remote-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Remote Jobs India</a>
      <a href="jobs.html?search=freshers-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Freshers Jobs India</a>
      <a href="jobs.html?search=online-teaching-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Online Teaching Jobs India</a>
      <a href="jobs.html?search=IT-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">IT Jobs India</a>
      <a href="jobs.html?search=online-marketing-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Online Marketing Jobs India</a>
      <a href="jobs.html?search=private-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Private Jobs India</a>
      <a href="jobs.html?search=online-typing-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">Online Typing Jobs India</a>
      <a href="jobs.html?search=HR-jobs-india" class="px-3 py-1 bg-gray-100 text-sm rounded-full hover:bg-blue-500 hover:text-white transition">HR Jobs India</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-100 mt-12 py-6 text-center text-gray-600">
    Â© 2025 KARDAN Job Portal. All rights reserved.
  </footer>

  <!-- âœ… Notification Popup Modal -->
  <div id="notifyModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center hidden">
    <div class="bg-white rounded-lg shadow-lg p-8 max-w-md text-center">
      <h3 class="text-2xl font-bold text-blue-600 mb-4">ðŸ”” Stay Updated!</h3>
      <p class="text-gray-600 mb-6">Allow notifications to get instant job alerts from KARDAN Job Portal.</p>
      <div class="flex justify-center gap-4">
        <button id="allowNotify" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Allow</button>
        <button id="closeNotify" class="px-6 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400">Later</button>
      </div>
      <p id="notifyStatus" class="mt-4 text-sm text-gray-500"></p>
    </div>
  </div>

  <!-- Firestore Script -->
  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBeGZBE1u1-y1hDWbRouchgwkgp89D973I",
      authDomain: "kar-kardan.firebaseapp.com",
      projectId: "kar-kardan",
      storageBucket: "kar-kardan.firebasestorage.app",
      messagingSenderId: "554147696994",
      appId: "1:554147696994:web:221dcb883e3b65dcea5c3b",
      measurementId: "G-RRC3X485KQ"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Load featured jobs
    async function loadFeaturedJobs() {
      const jobContainer = document.getElementById("featured-jobs");
      jobContainer.innerHTML = "<p>Loading jobs...</p>";

      try {
        const snapshot = await db.collection("jobs")
          .where("status", "==", "approved")
          .orderBy("createdAt", "desc")
          .limit(10)
          .get();

        jobContainer.innerHTML = "";

        if (snapshot.empty) {
          jobContainer.innerHTML = "<p>No featured jobs available.</p>";
          return;
        }

        snapshot.forEach(doc => {
          const job = doc.data();
          const jobCard = `
            <div class="bg-white shadow p-6 rounded-lg">
              <h4 class="text-xl font-semibold">${job.title || "Untitled Job"}</h4>
              <p class="text-gray-600">${job.company || "Unknown Company"} Â· ${job.location || "Location not specified"}</p>
              <a href="job-detail.html?id=${doc.id}" 
                class="mt-4 inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                View Details
              </a>
            </div>
          `;
          jobContainer.innerHTML += jobCard;
        });

      } catch (error) {
        console.error("Error loading jobs: ", error);
        jobContainer.innerHTML = "<p class='text-red-500'>Failed to load jobs.</p>";
      }
    }

    loadFeaturedJobs();

    // âœ… Show popup after 3 seconds
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("notifyModal").classList.remove("hidden");
      }, 3000);
    });

    const allowBtn = document.getElementById("allowNotify");
    const closeBtn = document.getElementById("closeNotify");
    const modal = document.getElementById("notifyModal");
    const notifyStatus = document.getElementById("notifyStatus");

    // Allow notifications
    allowBtn.addEventListener("click", async () => {
      if (!("Notification" in window)) {
        notifyStatus.textContent = "Your browser does not support notifications.";
        notifyStatus.classList.add("text-red-500");
        return;
      }

      let permission = Notification.permission;

      if (permission === "granted") {
        new Notification("âœ… You already allowed notifications!");
        notifyStatus.textContent = "Notifications are enabled.";
        notifyStatus.classList.add("text-green-600");
        modal.classList.add("hidden");
      } else if (permission === "denied") {
        notifyStatus.textContent = "You blocked notifications. Please enable them in browser settings.";
        notifyStatus.classList.add("text-red-500");
      } else {
        permission = await Notification.requestPermission();
        if (permission === "granted") {
          new Notification("ðŸ”” Notifications enabled! You will now get job alerts.");
          notifyStatus.textContent = "Notifications are enabled.";
          notifyStatus.classList.add("text-green-600");
          modal.classList.add("hidden");
        } else {
          notifyStatus.textContent = "You denied notifications.";
          notifyStatus.classList.add("text-red-500");
        }
      }
    });

    // Close popup
    closeBtn.addEventListener("click", () => {
      modal.classList.add("hidden");
    });
  </script>

</body>
</html>
